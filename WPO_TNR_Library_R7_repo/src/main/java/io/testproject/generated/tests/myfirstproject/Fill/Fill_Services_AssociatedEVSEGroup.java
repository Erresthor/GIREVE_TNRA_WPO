package io.testproject.generated.tests.myfirstproject;

import io.testproject.java.annotations.v2.Parameter;
import io.testproject.java.annotations.v2.Test;
import io.testproject.java.enums.ParameterDirection;
import io.testproject.java.enums.TakeScreenshotConditionType;
import io.testproject.java.sdk.v2.drivers.WebDriver;
import io.testproject.java.sdk.v2.enums.ExecutionResult;
import io.testproject.java.sdk.v2.exceptions.FailureException;
import io.testproject.java.sdk.v2.reporters.TestReporter;
import io.testproject.java.sdk.v2.tests.WebTest;
import io.testproject.java.sdk.v2.tests.helpers.WebTestHelper;
import java.lang.String;
import org.openqa.selenium.By;

/**
 * This class was automatically generated by TestProject
 * Project: My first Project
 * Test: Fill_AssociatedEVSEGroup
 * Generated by: C ANNICCHIARICO (come.annicchiarico@gireve.com)
 * Generated on Fri Aug 07 13:40:48 GMT 2020.
 */
@Test(
    name = "Fill_Services_AssociatedEVSEGroup",
    description = "This test was auto generated from steps of the 'FillOutOffer_WifiService' test",
    version = "1.0"
)
public class Fill_Services_AssociatedEVSEGroup implements WebTest {
    @Parameter(
        description = "Can we modify the  target EVSE group ? [o/n]",
      defaultValue = "o",
      direction = ParameterDirection.INPUT
  )
  public String modifyEVSEAssociated;

  @Parameter(
      description = "EVSE Group Name associated with the service",
      defaultValue = "COM113",
      direction = ParameterDirection.INPUT
  )
  public String EVSEGroupName;

  public ExecutionResult execute(WebTestHelper helper) throws FailureException {
    WebDriver driver = helper.getDriver();
    // set timeout for driver actions (similar to step timeout)
    driver.setTimeout(15000);
    TestReporter report = helper.getReporter();
    By by;
    boolean booleanResult;

    if (modifyEVSEAssociated.equals("o")) {
        // 1. Click 'UL'
        by = By.xpath("/html/body/div[2]/div/div/form/div[1]/div[1]/div[1]/div/div[1]/div/div[2]/div[2]/span/span[1]/span/ul");
        booleanResult = driver.testproject().click(by);
        report.step("Click 'UL'", booleanResult, TakeScreenshotConditionType.Never);

        // 2. Type '{{EVSEGroupName}}' in 'INPUT'
        by = By.xpath("/html/body/div[2]/div/div/form/div[1]/div[1]/div[1]/div/div[1]/div/div[2]/div[2]/span/span[1]/span/ul/li/input");
        booleanResult = driver.testproject().typeText(by,EVSEGroupName);
        report.step(String.format("Type '%s' in 'INPUT'",EVSEGroupName), booleanResult, TakeScreenshotConditionType.Never);

        // 3. Send 'ENTER' key(s)
        booleanResult = driver.testproject().sendKeys(GeneratedUtils.getKeys("ENTER"));
        report.step("Send 'ENTER' key(s)", booleanResult, TakeScreenshotConditionType.Never);
    }


    return ExecutionResult.PASSED;
  }
}
