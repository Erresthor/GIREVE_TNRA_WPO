package io.testproject.generated.tests.myfirstproject;


import io.testproject.java.annotations.v2.Parameter;
import io.testproject.java.annotations.v2.Test;
import io.testproject.java.enums.ParameterDirection;
import io.testproject.java.annotations.v2.Test;
import io.testproject.java.enums.TakeScreenshotConditionType;
import io.testproject.java.sdk.v2.drivers.WebDriver;
import io.testproject.java.sdk.v2.enums.ExecutionResult;
import io.testproject.java.sdk.v2.exceptions.FailureException;
import io.testproject.java.sdk.v2.reporters.TestReporter;
import io.testproject.java.sdk.v2.tests.WebTest;
import io.testproject.java.sdk.v2.tests.helpers.WebTestHelper;
import io.testproject.proxy.addon.WebListOperations;
import io.testproject.proxy.addon.actions.ClickOnListItemWhichContainsText;
import io.testproject.proxy.addon.actions.ClickOnNthItem;
import org.openqa.selenium.By;
import java.io.* ;
/**
 * This class was automatically generated by TestProject
 * Project: My first Project
 * Test: Fill_CDRIntermediaire
 * Generated by: C ANNICCHIARICO (come.annicchiarico@gireve.com)
 * Generated on Fri Aug 07 09:14:49 GMT 2020.
 */
@Test(
    name = "Fill_Services_CDRIntermediaire",
    description = "This test was auto generated from steps of the 'FillOutOffer_WifiService' test",
    version = "1.0"
)
public class Fill_Services_CDRIntermediaire implements WebTest {
  @Parameter(
        description = "CDR Intermédiaire ? [o/n]",
        defaultValue = "n",
        direction = ParameterDirection.INPUT
  )
  public String cdrInterBool;

  @Parameter(
      description = "Pas du CDR Intermédiaire ?",
      defaultValue = "1",
      direction = ParameterDirection.INPUT
  )
  public String valuePasCDRInter;

  @Parameter(
      description = "Unité du Pas du CDR Intermédiaire ?",
      defaultValue = "1",
      direction = ParameterDirection.INPUT
  )
  public String iunitPasCDRInter;

  public ExecutionResult execute(WebTestHelper helper) throws FailureException {
    WebDriver driver = helper.getDriver();
    // set timeout for driver actions (similar to step timeout)
    driver.setTimeout(15000);
    TestReporter report = helper.getReporter();
    By by;
    boolean booleanResult;
    ExecutionResult executionresult;
    ClickOnListItemWhichContainsText clickOnListItemWhichContainsText;
    ClickOnNthItem clickOnNthItem ;

    if (cdrInterBool.equals("o")) {
      // 1. Click 'I'
      by = By.xpath("/html/body/div[2]/div/div/form/div[1]/div[1]/div[1]/div/div[1]/div/div[4]/div[2]/div[1]/label/i");
      booleanResult = driver.testproject().click(by);
      report.step("Click 'I'", booleanResult, TakeScreenshotConditionType.Never);

      // 2. Type '2' in 'portal_bundle_associated_service_form_intermediateCdrValue'
      by = By.cssSelector("#portal_bundle_associated_service_form_intermediateCdrValue");
      booleanResult = driver.testproject().typeText(by,valuePasCDRInter);
      report.step("Type 'valuePasCDRInter' in 'portal_bundle_associated_service_form_intermediateCdrValue'", booleanResult, TakeScreenshotConditionType.Never);

      // 3. Click 'portal_bundle_associated_service_form_intermediateCdrTimeUnit'
      by = By.cssSelector("#portal_bundle_associated_service_form_intermediateCdrTimeUnit");
      booleanResult = driver.testproject().click(by);
      report.step("Click 'portal_bundle_associated_service_form_intermediateCdrTimeUnit'", booleanResult, TakeScreenshotConditionType.Never);

      // 4. Clicks on a list item based on text
      by = By.cssSelector("#portal_bundle_associated_service_form_intermediateCdrTimeUnit");
      booleanResult = driver.testproject().selectAnOptionByValue(by,iunitPasCDRInter);
      report.step("Clicks on a list item based on text", booleanResult, TakeScreenshotConditionType.Never);
    }

    return ExecutionResult.PASSED;
  }
}
