package io.testproject.generated.tests.myfirstproject;

import io.testproject.java.annotations.v2.Parameter;
import io.testproject.java.annotations.v2.Test;
import io.testproject.java.enums.ParameterDirection;
import io.testproject.java.enums.TakeScreenshotConditionType;
import io.testproject.java.sdk.v2.drivers.WebDriver;
import io.testproject.java.sdk.v2.enums.ExecutionResult;
import io.testproject.java.sdk.v2.exceptions.FailureException;
import io.testproject.java.sdk.v2.reporters.TestReporter;
import io.testproject.java.sdk.v2.tests.WebTest;
import io.testproject.java.sdk.v2.tests.helpers.WebTestHelper;
import org.openqa.selenium.support.ui.WebDriverWait;


import org.openqa.selenium.By;

/**
 * This class was automatically generated by TestProject
 * Project: My first Project
 * Test: Signature_Publier_PublicationWindow
 * Generated by: C ANNICCHIARICO (come.annicchiarico@gireve.com)
 * Generated on Thu Aug 13 08:43:14 GMT 2020.
 */
@Test(
    name = "General_GetOfferIdFromOfferPage",
    description = "This test was auto generated from steps of the 'Signatures_Publier_PS' test",
    version = "1.0"
)
public class General_GetOfferIdFromOfferPage implements WebTest {
  @Parameter(
      defaultValue = "blank",
      direction = ParameterDirection.OUTPUT
  )
  public String General_GetOfferIdFromOfferPage_valueIdOffre;

  public ExecutionResult execute(WebTestHelper helper) throws FailureException {
    WebDriver driver = helper.getDriver();
    // set timeout for driver actions (similar to step timeout)
    driver.setTimeout(15000);
    TestReporter report = helper.getReporter();
    By by;
    boolean booleanResult;

    //wait.until(ExpectedConditions.titleContains("Offres"));

    String currentURL = driver.testproject().getCurrentUrl();
    String[] listOfUrlElements = currentURL.split("/") ;
    String elementContenantIndex ="";
    int indiceDeLIdOffre = 0 ;
    int k = 0 ;
    try {
      while (!(listOfUrlElements[k].equals("show")) && (k<20)){
        k = k + 1 ;
      }
      elementContenantIndex = listOfUrlElements[k+1];
    } catch (Exception e){

    }
    

    k = 0 ;
    Boolean over = false ;
    General_GetOfferIdFromOfferPage_valueIdOffre = "";
    while ((k<elementContenantIndex.length())&(!over)) {
      char caractere = elementContenantIndex.charAt(k) ;
      if (Character.isDigit(caractere)){
        General_GetOfferIdFromOfferPage_valueIdOffre = General_GetOfferIdFromOfferPage_valueIdOffre + Character.toString(caractere) ;
      } else {
        over = true ;
      }

      k = k + 1 ;
    }

    return ExecutionResult.PASSED;
  }
}